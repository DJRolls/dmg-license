<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [dmg-license](./dmg-license.md) &gt; [Labels](./dmg-license.labels.md) &gt; [prepareSpec](./dmg-license.labels.preparespec.md)

## Labels.prepareSpec() function

Prepares a label set for insertion into a disk image as a `STR#` resource.

<b>Signature:</b>

```typescript
function prepareSpec(labels: LabelsSpec | null | undefined, lang: Language, contextOrOptions: Context | Options): Promise<Buffer>;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  labels | <code>LabelsSpec &#124; null &#124; undefined</code> | An object describing the label set to prepare. If <code>null</code> or <code>undefined</code>, the default label set for the given language is used instead. |
|  lang | <code>Language</code> | The language to prepare the label set for. This determines the target character set, and if <code>labels</code> is <code>null</code> or <code>undefined</code>, which language's default label set to use. |
|  contextOrOptions | <code>Context &#124; Options</code> | Context of an existing [dmgLicense()](./dmg-license.dmglicense.md) run, or options for one (when calling this function standalone). Used to resolve relative paths if <code>labels</code> is a . |

<b>Returns:</b>

`Promise<Buffer>`

A `Buffer` in `STR#` format.

## Remarks

This function delegates to  or  as appropriate.

Throws [NoDefaultLabelsError](./dmg-license.nodefaultlabelserror.md) if `labels` is `null` or `undefined` and there is no default label set for the given language.

Throws [LabelEncodingError](./dmg-license.labelencodingerror.md) if there is a problem encoding some of the labels.

Throws a  if there is more than one error.

